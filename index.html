<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KUMAROV-ARTS</title>
    <style>
        html { scroll-behavior: smooth; }
        body {
            margin: 0; padding: 0;
            background: radial-gradient(circle at top, #1c3654 0%, #060b13 100%);
            color: white; 
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è - –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è */
        .nav { 
            margin: 20px 0; 
            display: flex; 
            gap: 20px; 
            flex-wrap: wrap;
            justify-content: center;
            padding: 0 15px;
        }
        .nav a { 
            color: white; 
            text-decoration: none; 
            font-size: 14px; 
            font-weight: 900; 
            text-transform: uppercase; 
            transition: color 0.3s, transform 0.2s;
            padding: 5px 10px;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
        }
        
        @media (max-width: 768px) {
            .nav a {
                font-size: 13px;
            }
        }
        
        @media (max-width: 480px) {
            .nav a {
                font-size: 12px;
            }
        }
        
        .nav a:hover { 
            color: #008cff; 
            transform: translateY(-2px);
        }

        /* –ì–ª–∞–≤–Ω—ã–π –±–ª–æ–∫ - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π */
        .hero { 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            width: 100%; 
            max-width: 1100px; 
            margin-top: 10px;
            padding: 0 20px;
            flex-direction: column;
        }
        
        @media (min-width: 768px) {
            .hero {
                flex-direction: row;
                padding: 0;
            }
        }
        
        .hero-img { 
            width: 100%;
            max-width: 400px;
            flex-shrink: 0; 
            z-index: 1;
            margin-bottom: 20px;
        }
        
        @media (min-width: 768px) {
            .hero-img {
                width: 520px;
                max-width: none;
                margin-bottom: 0;
            }
        }
        
        .hero-text { 
            text-align: center;
            z-index: 2; 
            margin-left: 0;
            padding: 0 15px;
        }
        
        @media (min-width: 768px) {
            .hero-text {
                text-align: left;
                margin-left: -70px;
                padding: 0;
            }
        }
        
        .hero-text h1 { 
            font-size: 40px; 
            color: #008cff; 
            margin: 0 0 10px 0; 
            line-height: 1;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        @media (min-width: 768px) {
            .hero-text h1 {
                font-size: 65px;
            }
        }
        
        @media (max-width: 480px) {
            .hero-text h1 {
                font-size: 36px;
            }
        }
        
        .hero-text p {
            font-size: 16px;
            margin: 5px 0;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        @media (max-width: 768px) {
            .hero-text p {
                font-size: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .hero-text p {
                font-size: 14px;
            }
        }

        /* –°–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç - –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è */
        .section-title { 
            font-size: 28px; 
            color: #008cff; 
            margin: 40px 0 30px;
            text-align: center;
            padding: 0 15px;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        @media (min-width: 768px) {
            .section-title {
                font-size: 38px;
                margin: 50px 0 35px;
            }
        }
        
        @media (max-width: 480px) {
            .section-title {
                font-size: 26px;
            }
        }
        
        .grid { 
            display: flex; 
            gap: 20px; 
            flex-wrap: wrap; 
            justify-content: center; 
            width: 100%;
            padding: 0 15px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .card {
            background: linear-gradient(180deg, #007bff 0%, #004da1 100%);
            width: 100%;
            max-width: 300px;
            padding: 20px 15px; 
            border-radius: 15px; 
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-sizing: border-box;
        }
        
        @media (min-width: 480px) {
            .card {
                width: calc(50% - 10px);
                max-width: none;
            }
        }
        
        @media (min-width: 768px) {
            .card {
                width: 300px;
                padding: 25px 15px;
                border-radius: 20px;
            }
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 140, 255, 0.3);
        }
        
        .card h3 {
            font-size: 18px;
            margin: 0 0 15px 0;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        @media (min-width: 768px) {
            .card h3 {
                font-size: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .card h3 {
                font-size: 17px;
            }
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª–∞–π–¥-—à–æ—É */
        .slideshow {
            background: #000; 
            width: 100%; 
            height: 150px; 
            border-radius: 10px; 
            margin-bottom: 15px; 
            overflow: hidden; 
            position: relative; 
            cursor: pointer; 
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        @media (min-width: 768px) {
            .slideshow {
                height: 180px;
                border-radius: 12px;
                margin-bottom: 20px;
            }
        }
        
        .slideshow img, .slideshow video {
            width: 100%; 
            height: 100%; 
            object-fit: contain;
            position: absolute; 
            left: 0; 
            top: 0; 
            opacity: 0;
            animation: fadeAnim 8s infinite;
        }
        
        .slideshow video { 
            opacity: 1; 
            animation: none; 
            position: relative; 
        }
        
        .slideshow img:nth-child(2) { 
            animation-delay: 4s; 
        }

        @keyframes fadeAnim {
            0% { opacity: 0; }
            10% { opacity: 1; }
            45% { opacity: 1; }
            55% { opacity: 0; }
            100% { opacity: 0; }
        }

        .price-tag { 
            background: white; 
            color: #0066cc; 
            padding: 8px 15px; 
            border-radius: 8px; 
            font-weight: 900;
            transition: background 0.3s, color 0.3s;
            font-size: 16px;
            display: inline-block;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
        }
        
        @media (min-width: 768px) {
            .price-tag {
                padding: 10px 25px;
                border-radius: 10px;
                font-size: 18px;
            }
        }
        
        @media (max-width: 480px) {
            .price-tag {
                font-size: 15px;
                padding: 7px 12px;
            }
        }
        
        .card:hover .price-tag {
            background: #0066cc;
            color: white;
        }

        /* –§—É—Ç–µ—Ä —Ç–µ–∫—Å—Ç–∞ */
        .footer-info { 
            max-width: 850px; 
            text-align: left; 
            font-size: 14px; 
            margin: 30px 15px; 
            line-height: 1.5;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        @media (min-width: 768px) {
            .footer-info {
                font-size: 15px;
                margin: 40px auto;
                line-height: 1.6;
            }
        }
        
        @media (max-width: 480px) {
            .footer-info {
                font-size: 13px;
            }
        }
        
        .info-row { 
            display: flex; 
            align-items: flex-start; 
            gap: 10px; 
            margin-bottom: 10px;
        }
        
        .info-row span:first-child {
            flex-shrink: 0;
        }

        /* –ö–Ω–æ–ø–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ */
        .social-container { 
            display: flex; 
            gap: 15px; 
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
            padding: 0 15px;
            width: 100%;
        }
        
        @media (min-width: 768px) {
            .social-container {
                gap: 20px;
                margin-bottom: 60px;
                flex-wrap: nowrap;
            }
        }
        
        .soc-btn {
            background: linear-gradient(180deg, #007bff 0%, #004da1 100%);
            color: white; 
            text-decoration: none; 
            width: 100%;
            max-width: 240px;
            height: 50px;
            border-radius: 10px; 
            font-weight: 900; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-size: 15px;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
        }
        
        @media (min-width: 768px) {
            .soc-btn {
                width: 240px;
                height: 55px;
                border-radius: 12px;
                gap: 10px;
                font-size: 16px;
            }
        }
        
        @media (max-width: 480px) {
            .soc-btn {
                height: 48px;
                font-size: 14px;
            }
        }
        
        .soc-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 140, 255, 0.4);
            background: linear-gradient(180deg, #008cff 0%, #0056b3 100%);
        }
        
        .soc-btn:active {
            transform: translateY(-2px);
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç "–≤—Å–ø—ã—à–∫–∞" –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .soc-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        .soc-btn:hover::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(40, 40);
                opacity: 0;
            }
        }
        
        /* –ò–∫–æ–Ω–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π */
        .soc-btn img { 
            width: 24px; 
            height: 24px; 
            transition: transform 0.3s ease;
        }
        
        @media (min-width: 768px) {
            .soc-btn img {
                width: 28px;
                height: 28px;
            }
        }
        
        @media (max-width: 480px) {
            .soc-btn img {
                width: 22px;
                height: 22px;
            }
        }
        
        .soc-btn:hover img {
            transform: scale(1.1);
        }
        
        /* –¢–æ–ª—å–∫–æ –¥–ª—è TikTok –¥–µ–ª–∞–µ–º –±–µ–ª—É—é –∏–∫–æ–Ω–∫—É */
        .soc-btn:nth-child(2) img {
            filter: brightness(0) invert(1);
        }

        /* –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û (Full Screen View) - –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ */
        #modal {
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            background: rgba(0,0,0,0.95); 
            z-index: 1000; 
            justify-content: center; 
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        #modal.show {
            opacity: 1;
        }
        
        #mediaContainer {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none;
            padding: 20px;
            box-sizing: border-box;
        }
        
        #modalContent { 
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            border-radius: 8px; 
            box-shadow: 0 0 20px #008cff;
            transform-origin: center center;
            transition: transform 0.2s ease;
            cursor: grab;
        }
        
        @media (min-width: 768px) {
            #modalContent {
                max-width: 90%;
                max-height: 90%;
                border-radius: 10px;
                box-shadow: 0 0 30px #008cff;
            }
        }
        
        #modalContent:active {
            cursor: grabbing;
        }
        
        #modal.show #modalContent {
            transform: scale(1);
        }
        
        /* –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º */
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 15px;
            border-radius: 40px;
            z-index: 1001;
        }
        
        @media (min-width: 768px) {
            .zoom-controls {
                bottom: 30px;
                gap: 15px;
                padding: 10px 20px;
                border-radius: 50px;
            }
        }
        
        .zoom-btn {
            background: #008cff;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
            touch-action: manipulation;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
        }
        
        @media (min-width: 768px) {
            .zoom-btn {
                width: 45px;
                height: 45px;
                font-size: 24px;
            }
        }
        
        .zoom-btn:hover {
            background: #0066cc;
        }
        
        #closeModal { 
            position: absolute; 
            top: 15px; 
            right: 15px; 
            font-size: 35px; 
            cursor: pointer; 
            color: white;
            transition: color 0.3s, transform 0.3s;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.5);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
        }
        
        @media (min-width: 768px) {
            #closeModal {
                top: 20px;
                right: 30px;
                font-size: 40px;
                width: 50px;
                height: 50px;
            }
        }
        
        #closeModal:hover {
            color: #008cff;
            transform: rotate(90deg);
            background: rgba(0, 0, 0, 0.8);
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –º–∞—Å—à—Ç–∞–±–∞ */
        .zoom-indicator {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 13px;
            z-index: 1001;
            font-family: 'Arial Black', 'Arial Bold', 'Arial', sans-serif;
            font-weight: 900;
        }
        
        @media (min-width: 768px) {
            .zoom-indicator {
                top: 20px;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 14px;
            }
        }
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ */
        @media (max-width: 767px) {
            body, .nav a, .hero-text h1, .hero-text p, 
            .section-title, .card h3, .price-tag,
            .footer-info, .soc-btn, .zoom-btn, .zoom-indicator {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }
    </style>
</head>
<body>

<div class="nav">
    <a href="#portfolio">–ü–û–°–ú–û–¢–†–ï–¢–¨ –ü–û–†–¢–§–û–õ–ò–û</a>
    <a href="#contact">–°–í–Ø–ó–ê–¢–¨–°–Ø –° –ù–ê–ú–ò</a>
</div>

<div class="hero">
    <img src="–ê–º–∏—Ä—Ö–∞–Ω.png" class="hero-img">
    <div class="hero-text">
        <h1>KUMAROV-ARTS</h1>
        <p>–†–ò–°–£–ï–ú –ê–†–¢–´ –ü–û –í–ê–®–ï–ú–£ –ó–ê–ü–†–û–°–£ –í –ù–ê–®–ï–ú –°–¢–ò–õ–ï!</p>
        <p style="opacity: 0.8;">–ü–†–ò –ü–ï–†–í–û–ú –ó–ê–ö–ê–ó–ï ‚Äî –í–¢–û–†–û–ô –ê–†–¢ –í –ü–û–î–ê–†–û–ö!</p>
    </div>
</div>

<h2 id="portfolio" class="section-title">–ù–∞—à–∏ —É—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã</h2>

<div class="grid">
    <div class="card">
        <h3>–ü—Ä–µ–≤—å—é –¥–ª—è YouTube</h3>
        <div class="slideshow" onclick="openFull(this)">
            <img src="–ü—Ä–µ–≤—å—é1.jpg" data-index="0">
            <img src="–ü—Ä–µ–≤—å—é2.jpg" data-index="1">
        </div>
        <div class="price-tag">–æ—Ç 15 000 ‚Ç∏</div>
    </div>

    <div class="card">
        <h3>–ê–≤–∞—Ç–∞—Ä–∫–∏</h3>
        <div class="slideshow" onclick="openFull(this)">
            <img src="–ê–≤–∞—Ç–∞—Ä–∫–∞.jpg" data-index="0">
            <img src="–ê–≤–∞—Ç–∞—Ä–∫–∞2.jpg" data-index="1">
        </div>
        <div class="price-tag">–æ—Ç 10 000 ‚Ç∏</div>
    </div>

    <div class="card">
        <h3>–†–µ–∫–ª–∞–º–Ω—ã–µ —Ä–æ–ª–∏–∫–∏</h3>
        <div class="slideshow" onclick="openFull(this)">
            <video muted loop autoplay><source src="–∞–Ω–∏–º–∞—Ü–∏—è.mp4"></video>
        </div>
        <div class="price-tag">–æ—Ç 20 000 ‚Ç∏</div>
    </div>
</div>

<div class="footer-info">
    <div class="info-row"><span>üí°</span> <span>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã: –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—Å—É–∂–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ...</span></div>
    <div class="info-row"><span>üìû</span> <span>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ! –û–±—Å—É–¥–∏–º –≤–∞—à –ø—Ä–æ–µ–∫—Ç...</span></div>
    <div class="info-row"><span>üí¨</span> <span>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞!</span></div>
</div>

<div id="contact" class="social-container">
    <a href="https://www.instagram.com/kumarov_arts/" target="_blank" class="soc-btn">
        <img src="https://www.svgrepo.com/show/303145/instagram-2-1-logo.svg" alt="Instagram">
        INSTAGRAM
    </a>
    <a href="https://www.tiktok.com/@kumarov_arts3" target="_blank" class="soc-btn">
        <img src="https://www.svgrepo.com/show/333611/tiktok.svg" alt="TikTok">
        TIK TOK
    </a>
</div>

<div id="modal" onclick="closeModal(event)">
    <span id="closeModal" onclick="closeModal(event)">&times;</span>
    <div class="zoom-indicator" id="zoomIndicator">100%</div>
    <div id="mediaContainer"></div>
    <div class="zoom-controls">
        <button class="zoom-btn" onclick="changeZoom(-0.2)">‚àí</button>
        <button class="zoom-btn" onclick="resetZoom()">‚ü≤</button>
        <button class="zoom-btn" onclick="changeZoom(0.2)">+</button>
    </div>
</div>

<script>
    let currentActiveIndex = 0;
    let slideshowElements = [];
    let currentZoom = 1;
    let isDragging = false;
    let startX, startY, translateX = 0, translateY = 0;
    let modalContent = null;
    
    function updateActiveSlideshow() {
        document.querySelectorAll('.slideshow').forEach((slideshow, slideshowIndex) => {
            const images = slideshow.querySelectorAll('img');
            if (images.length > 0) {
                const now = Date.now() % 8000;
                const activeIndex = now < 4000 ? 0 : 1;
                
                if (!slideshowElements[slideshowIndex]) {
                    slideshowElements[slideshowIndex] = { activeIndex };
                } else {
                    slideshowElements[slideshowIndex].activeIndex = activeIndex;
                }
                
                images.forEach((img, index) => {
                    img.dataset.currentActive = (index === activeIndex) ? "true" : "false";
                });
            }
        });
    }
    
    setInterval(updateActiveSlideshow, 100);
    
    function openFull(element) {
        const modal = document.getElementById('modal');
        const container = document.getElementById('mediaContainer');
        container.innerHTML = '';
        
        resetZoomControls();
        
        let activeMedia;
        const video = element.querySelector('video');
        const images = element.querySelectorAll('img');
        
        if (video) {
            activeMedia = video.cloneNode(true);
            activeMedia.controls = true;
            activeMedia.autoplay = true;
        } else if (images.length > 0) {
            const activeImg = Array.from(images).find(img => img.dataset.currentActive === "true");
            activeMedia = (activeImg || images[0]).cloneNode();
        }
        
        if (activeMedia) {
            activeMedia.id = "modalContent";
            container.appendChild(activeMedia);
            modal.style.display = 'flex';
            
            modalContent = activeMedia;
            
            setupDragAndZoom(activeMedia);
            
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
        }
    }
    
    function setupDragAndZoom(element) {
        if (!element) return;
        
        currentZoom = 1;
        translateX = 0;
        translateY = 0;
        updateTransform();
        
        element.addEventListener('mousedown', startDrag);
        element.addEventListener('wheel', handleWheel, { passive: false });
        
        element.addEventListener('touchstart', handleTouchStart, { passive: false });
        element.addEventListener('touchmove', handleTouchMove, { passive: false });
        element.addEventListener('touchend', handleTouchEnd);
    }
    
    function startDrag(e) {
        if (currentZoom <= 1) return;
        
        isDragging = true;
        startX = e.clientX - translateX;
        startY = e.clientY - translateY;
        
        document.addEventListener('mousemove', drag);
        document.addEventListener('mouseup', stopDrag);
        
        e.preventDefault();
    }
    
    let initialDistance = null;
    
    function handleTouchStart(e) {
        if (e.touches.length === 2) {
            initialDistance = getDistance(e.touches[0], e.touches[1]);
            e.preventDefault();
        } else if (e.touches.length === 1 && currentZoom > 1) {
            isDragging = true;
            const touch = e.touches[0];
            startX = touch.clientX - translateX;
            startY = touch.clientY - translateY;
            e.preventDefault();
        }
    }
    
    function handleTouchMove(e) {
        if (e.touches.length === 2 && initialDistance !== null) {
            const currentDistance = getDistance(e.touches[0], e.touches[1]);
            const scaleChange = (currentDistance - initialDistance) / 100;
            
            if (Math.abs(scaleChange) > 0.05) {
                changeZoom(scaleChange * 0.5);
                initialDistance = currentDistance;
            }
            e.preventDefault();
        } else if (e.touches.length === 1 && isDragging) {
            const touch = e.touches[0];
            translateX = touch.clientX - startX;
            translateY = touch.clientY - startY;
            updateTransform();
            e.preventDefault();
        }
    }
    
    function handleTouchEnd() {
        isDragging = false;
        initialDistance = null;
    }
    
    function getDistance(touch1, touch2) {
        const dx = touch1.clientX - touch2.clientX;
        const dy = touch1.clientY - touch2.clientY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    
    function drag(e) {
        if (!isDragging) return;
        
        translateX = e.clientX - startX;
        translateY = e.clientY - startY;
        updateTransform();
    }
    
    function stopDrag() {
        isDragging = false;
        document.removeEventListener('mousemove', drag);
        document.removeEventListener('mouseup', stopDrag);
    }
    
    function handleWheel(e) {
        e.preventDefault();
        
        if (e.deltaY < 0) {
            changeZoom(0.2);
        } else {
            changeZoom(-0.2);
        }
    }
    
    function changeZoom(delta) {
        const newZoom = currentZoom + delta;
        
        if (newZoom >= 0.5 && newZoom <= 5) {
            currentZoom = newZoom;
            updateTransform();
            updateZoomIndicator();
        }
    }
    
    function resetZoom() {
        currentZoom = 1;
        translateX = 0;
        translateY = 0;
        updateTransform();
        updateZoomIndicator();
    }
    
    function resetZoomControls() {
        currentZoom = 1;
        translateX = 0;
        translateY = 0;
        updateZoomIndicator();
    }
    
    function updateTransform() {
        if (modalContent) {
            modalContent.style.transform = `scale(${currentZoom}) translate(${translateX}px, ${translateY}px)`;
        }
    }
    
    function updateZoomIndicator() {
        const indicator = document.getElementById('zoomIndicator');
        if (indicator) {
            indicator.textContent = `${Math.round(currentZoom * 100)}%`;
        }
    }
    
    function closeModal(event) {
        if (event.target.id === 'modal' || event.target.id === 'closeModal') {
            const modal = document.getElementById('modal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                const video = document.querySelector('#mediaContainer video');
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
                resetZoomControls();
                if (modalContent) {
                    modalContent.style.transform = '';
                }
            }, 300);
        }
    }
    
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            const modal = document.getElementById('modal');
            if (modal.style.display === 'flex') {
                closeModal({target: {id: 'modal'}});
            }
        }
    });
    
    document.getElementById('modal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeModal(e);
        }
    });
    
    updateActiveSlideshow();
    updateZoomIndicator();
</script>

</body>
</html>
